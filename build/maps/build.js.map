{"version":3,"sources":["build.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","arko","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","extend","b","Object","keys","forEach","key","prototype","toString","2","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","options","selectors","classNames","active","container","docReady","find","bind","value","callback","completed","document","removeEventListener","readyState","setTimeout","addEventListener","embeds","selector","concat","slice","querySelectorAll","embed","isResponsive","pos","getBoundingClientRect","createElement","className","style","paddingBottom","height","width","parentNode","insertBefore","appendChild","classList","add","contains","exclude","object-extend"],"mappings":"CAAA,SAAUA,GAAG,GAAoB,gBAAVC,UAAoC,mBAATC,QAAsBA,OAAOD,QAAQD,QAAS,IAAmB,kBAATG,SAAqBA,OAAOC,IAAKD,UAAUH,OAAO,CAAC,GAAIK,EAAkCA,GAAb,mBAATC,QAAwBA,OAA+B,mBAATC,QAAwBA,OAA6B,mBAAPC,MAAsBA,KAAYC,KAAKJ,EAAEK,KAAOV,MAAO,WAAqC,MAAO,SAAUW,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAkB,kBAATC,UAAqBA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,IAAIhB,GAAE,GAAIqB,OAAM,uBAAuBL,EAAE,IAAK,MAAMhB,GAAEsB,KAAK,mBAAmBtB,EAAE,GAAIuB,GAAEV,EAAEG,IAAIf,WAAYW,GAAEI,GAAG,GAAGQ,KAAKD,EAAEtB,QAAQ,SAASU,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,EAAEA,EAAEF,IAAIY,EAAEA,EAAEtB,QAAQU,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGf,QAAkD,IAAI,GAA1CmB,GAAkB,kBAATD,UAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEW,OAAOT,IAAID,EAAED,EAAEE,GAAI,OAAOD,KAAKW,GAAG,SAASP,EAAQjB,EAAOD,GAqBn0BC,EAAOD,QAAU,QAAS0B,GAAOT,EAAGU,GAGhC,MAAS,OAALV,GAAkB,MAALU,EACNV,GAIXW,OAAOC,KAAKF,GAAGG,QAAQ,SAAUC,GAMiB,mBAA1CH,OAAOI,UAAUC,SAASV,KAAKI,EAAEI,IACa,mBAA1CH,OAAOI,UAAUC,SAASV,KAAKN,EAAEc,IACjCd,EAAEc,GAAOJ,EAAEI,GAEXd,EAAEc,GAAOL,EAAOT,EAAEc,GAAMJ,EAAEI,IAG9Bd,EAAEc,GAAOJ,EAAEI,KAKZd,SAGLiB,GAAG,SAAShB,EAAQjB,EAAOD,GACjC,YAIA,SAASmC,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAFhH,GAAIC,GAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIvB,GAAI,EAAGA,EAAIuB,EAAMlB,OAAQL,IAAK,CAAE,GAAIwB,GAAaD,EAAMvB,EAAIwB,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMlB,OAAOmB,eAAeN,EAAQE,EAAWZ,IAAKY,IAAiB,MAAO,UAAUN,EAAaW,EAAYC,GAAiJ,MAA9HD,IAAYR,EAAiBH,EAAYL,UAAWgB,GAAiBC,GAAaT,EAAiBH,EAAaY,GAAqBZ,MAI5hBX,EAASR,EAAQ,iBAEjBT,EAAO,WACP,QAASA,GAAKyC,GACVf,EAAgB3B,KAAMC,GAEtBD,KAAK0C,QAAUxB,GACXyB,WAAY,QAAS,SAAU,UAC/BC,YACIC,OAAQ,gBACRC,UAAW,oBAEhBJ,GAEH1C,KAAK+C,SAAS/C,KAAKgD,KAAKC,KAAKjD,OAwDjC,MArDA+B,GAAa9B,IACTsB,IAAK,WACL2B,MAAO,SAAkBC,GACrB,QAASC,KACLC,SAASC,oBAAoB,mBAAoBF,GAAW,GAC5DvD,OAAOyD,oBAAoB,OAAQF,GAAW,GAC9CD,IAGwB,aAAxBE,SAASE,WACTC,WAAWL,IAEXE,SAASI,iBAAiB,mBAAoBL,GAAW,GACzDvD,OAAO4D,iBAAiB,OAAQL,GAAW,OAInD7B,IAAK,OACL2B,MAAO,WAEH,GAAIQ,KACJ1D,MAAK0C,QAAQC,UAAUrB,QAAQ,SAAUqC,GACrCD,EAASA,EAAOE,UAAUC,MAAM9C,KAAKsC,SAASS,iBAAiBH,OAInED,EAAOpC,QAAQ,SAAUyC,GACrB,IAAI/D,KAAKgE,aAAaD,GAAtB,CAEA,GAAIE,GAAMF,EAAMG,wBAGZpB,EAAYO,SAASc,cAAc,MACvCrB,GAAUsB,UAAYpE,KAAK0C,QAAQE,WAAWE,UAC9CA,EAAUuB,MAAMC,cAAgB,IAAML,EAAIM,OAASN,EAAIO,MAAQ,IAC/DT,EAAMU,WAAWC,aAAa5B,EAAWiB,GACzCjB,EAAU6B,YAAYZ,GAEtBjB,EAAU8B,UAAUC,IAAI7E,KAAK0C,QAAQE,WAAWC,UAClDI,KAAKjD,UAGXuB,IAAK,eACL2B,MAAO,SAAsBa,GACzB,MAAOA,GAAMU,WAAWG,UAAUE,SAAS9E,KAAK0C,QAAQE,WAAWC,SAAW7C,KAAK+E,QAAQhB,MAG/FxC,IAAK,UACL2B,MAAO,SAAiBa,GACpB,MAAOA,GAAMa,UAAUE,SAAS,oBAAsBf,EAAMa,UAAUE,SAAS,sBAIhF7E,IAGXR,GAAOD,QAAUA,EAAUS,IAExB+E,gBAAgB,SAAS,IAAI","file":"build.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.arko = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/*!\n * object-extend\n * A well-tested function to deep extend (or merge) JavaScript objects without further dependencies.\n *\n * http://github.com/bernhardw\n *\n * Copyright 2013, Bernhard Wanger <mail@bernhardwanger.com>\n * Released under the MIT license.\n *\n * Date: 2013-04-10\n */\n\n\n/**\n * Extend object a with object b.\n *\n * @param {Object} a Source object.\n * @param {Object} b Object to extend with.\n * @returns {Object} a Extended object.\n */\nmodule.exports = function extend(a, b) {\n\n    // Don't touch 'null' or 'undefined' objects.\n    if (a == null || b == null) {\n        return a;\n    }\n\n    // TODO: Refactor to use for-loop for performance reasons.\n    Object.keys(b).forEach(function (key) {\n\n        // Detect object without array, date or null.\n        // TODO: Performance test:\n        // a) b.constructor === Object.prototype.constructor\n        // b) Object.prototype.toString.call(b) == '[object Object]'\n        if (Object.prototype.toString.call(b[key]) == '[object Object]') {\n            if (Object.prototype.toString.call(a[key]) != '[object Object]') {\n                a[key] = b[key];\n            } else {\n                a[key] = extend(a[key], b[key]);\n            }\n        } else {\n            a[key] = b[key];\n        }\n\n    });\n\n    return a;\n\n};\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar extend = require('object-extend');\n\nvar arko = function () {\n    function arko(options) {\n        _classCallCheck(this, arko);\n\n        this.options = extend({\n            selectors: ['embed', 'object', 'iframe'],\n            classNames: {\n                active: 'is-responsive',\n                container: 'embed-container'\n            }\n        }, options);\n\n        this.docReady(this.find.bind(this));\n    }\n\n    _createClass(arko, [{\n        key: 'docReady',\n        value: function docReady(callback) {\n            function completed() {\n                document.removeEventListener(\"DOMContentLoaded\", completed, false);\n                window.removeEventListener(\"load\", completed, false);\n                callback();\n            }\n\n            if (document.readyState === \"complete\") {\n                setTimeout(callback);\n            } else {\n                document.addEventListener(\"DOMContentLoaded\", completed, false);\n                window.addEventListener(\"load\", completed, false);\n            }\n        }\n    }, {\n        key: 'find',\n        value: function find() {\n            // Get embeds\n            var embeds = [];\n            this.options.selectors.forEach(function (selector) {\n                embeds = embeds.concat([].slice.call(document.querySelectorAll(selector)));\n            });\n\n            // Set aspect ratio\n            embeds.forEach(function (embed) {\n                if (this.isResponsive(embed)) return;\n\n                var pos = embed.getBoundingClientRect();\n\n                // Create container, append embed\n                var container = document.createElement('div');\n                container.className = this.options.classNames.container;\n                container.style.paddingBottom = 100 * pos.height / pos.width + '%';\n                embed.parentNode.insertBefore(container, embed);\n                container.appendChild(embed);\n\n                container.classList.add(this.options.classNames.active);\n            }.bind(this));\n        }\n    }, {\n        key: 'isResponsive',\n        value: function isResponsive(embed) {\n            return embed.parentNode.classList.contains(this.options.classNames.active) || this.exclude(embed);\n        }\n    }, {\n        key: 'exclude',\n        value: function exclude(embed) {\n            return embed.classList.contains('instagram-media') || embed.classList.contains('pb_feed_iframe');\n        }\n    }]);\n\n    return arko;\n}();\n\nmodule.exports = exports = arko;\n\n},{\"object-extend\":1}]},{},[2])(2)\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvb2JqZWN0LWV4dGVuZC9saWIvZXh0ZW5kLmpzIiwic3JjL2Fya28uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUNoREEsSUFBSSxTQUFTLFFBQVEsZUFBUixDQUFiOztJQUVNLEk7QUFDRixrQkFBWSxPQUFaLEVBQXFCO0FBQUE7O0FBQ2pCLGFBQUssT0FBTCxHQUFlLE9BQU87QUFDbEIsdUJBQVcsQ0FDUCxPQURPLEVBRVAsUUFGTyxFQUdQLFFBSE8sQ0FETztBQU1sQix3QkFBWTtBQUNSLHdCQUFRLGVBREE7QUFFUiwyQkFBVztBQUZIO0FBTk0sU0FBUCxFQVVaLE9BVlksQ0FBZjs7QUFZQSxhQUFLLFFBQUwsQ0FBYyxLQUFLLElBQUwsQ0FBVSxJQUFWLENBQWUsSUFBZixDQUFkO0FBQ0g7Ozs7aUNBRVEsUSxFQUFVO0FBQ2YscUJBQVMsU0FBVCxHQUFxQjtBQUNqQix5QkFBUyxtQkFBVCxDQUE2QixrQkFBN0IsRUFBaUQsU0FBakQsRUFBNEQsS0FBNUQ7QUFDQSx1QkFBTyxtQkFBUCxDQUEyQixNQUEzQixFQUFtQyxTQUFuQyxFQUE4QyxLQUE5QztBQUNBO0FBQ0g7O0FBRUQsZ0JBQUksU0FBUyxVQUFULEtBQXdCLFVBQTVCLEVBQXdDO0FBQ3BDLDJCQUFXLFFBQVg7QUFDSCxhQUZELE1BRU87QUFDSCx5QkFBUyxnQkFBVCxDQUEwQixrQkFBMUIsRUFBOEMsU0FBOUMsRUFBeUQsS0FBekQ7QUFDQSx1QkFBTyxnQkFBUCxDQUF3QixNQUF4QixFQUFnQyxTQUFoQyxFQUEyQyxLQUEzQztBQUNIO0FBQ0o7OzsrQkFFTTs7QUFFSCxnQkFBSSxTQUFTLEVBQWI7QUFDQSxpQkFBSyxPQUFMLENBQWEsU0FBYixDQUF1QixPQUF2QixDQUErQixVQUFVLFFBQVYsRUFBb0I7QUFDL0MseUJBQVMsT0FBTyxNQUFQLENBQWMsR0FBRyxLQUFILENBQVMsSUFBVCxDQUFjLFNBQVMsZ0JBQVQsQ0FBMEIsUUFBMUIsQ0FBZCxDQUFkLENBQVQ7QUFDSCxhQUZEOzs7QUFLQSxtQkFBTyxPQUFQLENBQWUsVUFBVSxLQUFWLEVBQWlCO0FBQzVCLG9CQUFJLEtBQUssWUFBTCxDQUFrQixLQUFsQixDQUFKLEVBQThCOztBQUU5QixvQkFBSSxNQUFNLE1BQU0scUJBQU4sRUFBVjs7O0FBR0Esb0JBQUksWUFBWSxTQUFTLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBaEI7QUFDQSwwQkFBVSxTQUFWLEdBQXNCLEtBQUssT0FBTCxDQUFhLFVBQWIsQ0FBd0IsU0FBOUM7QUFDQSwwQkFBVSxLQUFWLENBQWdCLGFBQWhCLEdBQWlDLE1BQU0sSUFBSSxNQUFWLEdBQW1CLElBQUksS0FBeEIsR0FBaUMsR0FBakU7QUFDQSxzQkFBTSxVQUFOLENBQWlCLFlBQWpCLENBQThCLFNBQTlCLEVBQXlDLEtBQXpDO0FBQ0EsMEJBQVUsV0FBVixDQUFzQixLQUF0Qjs7QUFFQSwwQkFBVSxTQUFWLENBQW9CLEdBQXBCLENBQXdCLEtBQUssT0FBTCxDQUFhLFVBQWIsQ0FBd0IsTUFBaEQ7QUFDSCxhQWJjLENBYWIsSUFiYSxDQWFSLElBYlEsQ0FBZjtBQWNIOzs7cUNBRVksSyxFQUFPO0FBQ2hCLG1CQUFPLE1BQU0sVUFBTixDQUFpQixTQUFqQixDQUEyQixRQUEzQixDQUFvQyxLQUFLLE9BQUwsQ0FBYSxVQUFiLENBQXdCLE1BQTVELEtBQXVFLEtBQUssT0FBTCxDQUFhLEtBQWIsQ0FBOUU7QUFDSDs7O2dDQUVPLEssRUFBTztBQUNYLG1CQUFPLE1BQU0sU0FBTixDQUFnQixRQUFoQixDQUF5QixpQkFBekIsS0FBK0MsTUFBTSxTQUFOLENBQWdCLFFBQWhCLENBQXlCLGdCQUF6QixDQUF0RDtBQUNIOzs7Ozs7QUFHTCxPQUFPLE9BQVAsR0FBaUIsVUFBVSxJQUEzQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKiFcbiAqIG9iamVjdC1leHRlbmRcbiAqIEEgd2VsbC10ZXN0ZWQgZnVuY3Rpb24gdG8gZGVlcCBleHRlbmQgKG9yIG1lcmdlKSBKYXZhU2NyaXB0IG9iamVjdHMgd2l0aG91dCBmdXJ0aGVyIGRlcGVuZGVuY2llcy5cbiAqXG4gKiBodHRwOi8vZ2l0aHViLmNvbS9iZXJuaGFyZHdcbiAqXG4gKiBDb3B5cmlnaHQgMjAxMywgQmVybmhhcmQgV2FuZ2VyIDxtYWlsQGJlcm5oYXJkd2FuZ2VyLmNvbT5cbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqXG4gKiBEYXRlOiAyMDEzLTA0LTEwXG4gKi9cblxuXG4vKipcbiAqIEV4dGVuZCBvYmplY3QgYSB3aXRoIG9iamVjdCBiLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhIFNvdXJjZSBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gYiBPYmplY3QgdG8gZXh0ZW5kIHdpdGguXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBhIEV4dGVuZGVkIG9iamVjdC5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBleHRlbmQoYSwgYikge1xuXG4gICAgLy8gRG9uJ3QgdG91Y2ggJ251bGwnIG9yICd1bmRlZmluZWQnIG9iamVjdHMuXG4gICAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogUmVmYWN0b3IgdG8gdXNlIGZvci1sb29wIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLlxuICAgIE9iamVjdC5rZXlzKGIpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXG4gICAgICAgIC8vIERldGVjdCBvYmplY3Qgd2l0aG91dCBhcnJheSwgZGF0ZSBvciBudWxsLlxuICAgICAgICAvLyBUT0RPOiBQZXJmb3JtYW5jZSB0ZXN0OlxuICAgICAgICAvLyBhKSBiLmNvbnN0cnVjdG9yID09PSBPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yXG4gICAgICAgIC8vIGIpIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChiKSA9PSAnW29iamVjdCBPYmplY3RdJ1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGJba2V5XSkgPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYVtrZXldKSAhPSAnW29iamVjdCBPYmplY3RdJykge1xuICAgICAgICAgICAgICAgIGFba2V5XSA9IGJba2V5XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYVtrZXldID0gZXh0ZW5kKGFba2V5XSwgYltrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFba2V5XSA9IGJba2V5XTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICByZXR1cm4gYTtcblxufTsiLCJ2YXIgZXh0ZW5kID0gcmVxdWlyZSgnb2JqZWN0LWV4dGVuZCcpO1xuXG5jbGFzcyBhcmtvIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IGV4dGVuZCh7XG4gICAgICAgICAgICBzZWxlY3RvcnM6IFtcbiAgICAgICAgICAgICAgICAnZW1iZWQnLFxuICAgICAgICAgICAgICAgICdvYmplY3QnLFxuICAgICAgICAgICAgICAgICdpZnJhbWUnXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgY2xhc3NOYW1lczoge1xuICAgICAgICAgICAgICAgIGFjdGl2ZTogJ2lzLXJlc3BvbnNpdmUnLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogJ2VtYmVkLWNvbnRhaW5lcidcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5kb2NSZWFkeSh0aGlzLmZpbmQuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgZG9jUmVhZHkoY2FsbGJhY2spIHtcbiAgICAgICAgZnVuY3Rpb24gY29tcGxldGVkKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY29tcGxldGVkLCBmYWxzZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgY29tcGxldGVkLCBmYWxzZSk7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIikge1xuICAgICAgICAgICAgc2V0VGltZW91dChjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQsIGZhbHNlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBjb21wbGV0ZWQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbmQoKSB7XG4gICAgICAgIC8vIEdldCBlbWJlZHNcbiAgICAgICAgdmFyIGVtYmVkcyA9IFtdO1xuICAgICAgICB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzLmZvckVhY2goZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICBlbWJlZHMgPSBlbWJlZHMuY29uY2F0KFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU2V0IGFzcGVjdCByYXRpb1xuICAgICAgICBlbWJlZHMuZm9yRWFjaChmdW5jdGlvbiAoZW1iZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzUmVzcG9uc2l2ZShlbWJlZCkpIHJldHVybjtcblxuICAgICAgICAgICAgdmFyIHBvcyA9IGVtYmVkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgY29udGFpbmVyLCBhcHBlbmQgZW1iZWRcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSB0aGlzLm9wdGlvbnMuY2xhc3NOYW1lcy5jb250YWluZXI7XG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUucGFkZGluZ0JvdHRvbSA9ICgxMDAgKiBwb3MuaGVpZ2h0IC8gcG9zLndpZHRoKSArICclJztcbiAgICAgICAgICAgIGVtYmVkLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNvbnRhaW5lciwgZW1iZWQpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVtYmVkKTtcblxuICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQodGhpcy5vcHRpb25zLmNsYXNzTmFtZXMuYWN0aXZlKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBpc1Jlc3BvbnNpdmUoZW1iZWQpIHtcbiAgICAgICAgcmV0dXJuIGVtYmVkLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMub3B0aW9ucy5jbGFzc05hbWVzLmFjdGl2ZSkgfHwgdGhpcy5leGNsdWRlKGVtYmVkKTtcbiAgICB9XG5cbiAgICBleGNsdWRlKGVtYmVkKSB7XG4gICAgICAgIHJldHVybiBlbWJlZC5jbGFzc0xpc3QuY29udGFpbnMoJ2luc3RhZ3JhbS1tZWRpYScpIHx8IGVtYmVkLmNsYXNzTGlzdC5jb250YWlucygncGJfZmVlZF9pZnJhbWUnKTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IGFya287Il19\n"],"sourceRoot":"/source/"}